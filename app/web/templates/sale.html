{% extends "base.html" %}
{% block content %}
<div class="bg-white p-3 rounded shadow-sm">
  <h4>Sale (cart)</h4>
  {% if message %}<div class="alert alert-info" style="white-space: pre-wrap;">{{ message }}</div>{% endif %}

  <div class="row g-3">
    <div class="col-lg-4">
      <h5>1) Start cart</h5>
      <form method="post" action="/sale/start">
        <div class="mb-2">
          <label class="form-label">Client</label>
          <input class="form-control" name="client" placeholder="ali" required>
        </div>
        <button class="btn btn-secondary">Start</button>
      </form>
    </div>

    <div class="col-lg-4">
      <h5>2) Add item</h5>
      <form method="post" action="/sale/add">
        <div class="mb-2">
          <label class="form-label">Client</label>
          <input class="form-control" name="client" required>
        </div>
        <div class="mb-2">
          <label class="form-label">Brand</label>
          <input class="form-control" name="brand" required>
        </div>
        <div class="mb-2">
          <label class="form-label">Model</label>
          <input class="form-control" name="model" required>
        </div>
        <div class="mb-2">
          <label class="form-label">Qty</label>
          <input class="form-control" name="qty" type="number" step="0.01" required>
        </div>
        <div class="mb-2">
          <label class="form-label">Price mode</label>
          <select class="form-select" name="price_mode">
            <option value="wh">wh</option>
            <option value="wh10">wh10</option>
            <option value="custom">custom</option>
          </select>
        </div>
        <div class="mb-2">
          <label class="form-label">Custom price (only if custom)</label>
          <input class="form-control" name="custom_price" type="number" step="0.01">
        </div>
        <button class="btn btn-primary">Add</button>
      </form>
    </div>

    <div class="col-lg-4">
      <h5>3) Show / Finish</h5>
      <form method="post" action="/sale/show" class="mb-2">
        <div class="mb-2">
          <label class="form-label">Client</label>
          <input class="form-control" name="client" required>
        </div>
        <button class="btn btn-outline-secondary">Show cart</button>
      </form>

      <form method="post" action="/sale/finish">
        <div class="mb-2">
          <label class="form-label">Client</label>
          <input class="form-control" name="client" required>
        </div>
        <button class="btn btn-success">Finish (PDF + Backup)</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}